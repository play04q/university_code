ORG 0000H
	AJMP MAIN
ORG 0100H
	MAIN:MOV P2,#00H
	KEY0:MOV P1,#0F0H
		JNB P1.4,COL0
		JNB P1.5,COL1
		JNB P1.6,COL2
		JNB P1.7,COL3
		AJMP KEY0
	COL0:MOV P1,#0FH
		JNB P1.0,K0
		JNB P1.1,K4
		JNB P1.2,K8
		JNB P1.3,K12
		RET
	COL1:MOV P1,#0FH
		JNB P1.0,K1
		JNB P1.1,K5
		JNB P1.2,K9
		JNB P1.3,K13
		RET
	COL2:MOV P1,#0FH
		JNB P1.0,K2
		JNB P1.1,K6
		JNB P1.2,K10
		JNB P1.3,K14
		RET
	COL3:MOV P1,#0FH
		JNB P1.0,K3
		JNB P1.1,K7
		JNB P1.2,K11
		JNB P1.3,K15
		RET
	K0:MOV P2,#3FH
		ACALL YSH1S
		AJMP KEY0
		RET
	K1:MOV P2,#05H
		ACALL YSH1S
		AJMP KEY0
		RET
	K2:MOV P2,#5BH
		ACALL YSH1S
		AJMP KEY0
		RET
	K3:MOV P2,#4FH
		ACALL YSH1S
		AJMP KEY0
		RET
	K4:MOV P2,#66H
		ACALL YSH1S
		AJMP KEY0
		RET
	K5:MOV P2,#6DH
		ACALL YSH1S
		AJMP KEY0
		RET
	K6:MOV P2,#7DH
		ACALL YSH1S
		AJMP KEY0
		RET
	K7:MOV P2,#07H
		ACALL YSH1S
		AJMP KEY0
		RET
	K8:MOV P2,#7FH
		ACALL YSH1S
		AJMP KEY0
		RET
	K9:MOV P2,#6FH
		ACALL YSH1S
		AJMP KEY0
		RET
	K10:MOV P2,#77H
		ACALL YSH1S
		AJMP KEY0
		RET
	K11:MOV P2,#7CH
		ACALL YSH1S
		AJMP KEY0
		RET
	K12:MOV P2,#39H
		ACALL YSH1S
		AJMP KEY0
		RET
	K13:MOV P2,#5EH
		ACALL YSH1S
		AJMP KEY0
		RET
	K14:MOV P2,#79H
		ACALL YSH1S
		AJMP KEY0
		RET
	K15:MOV P2,#71H
		ACALL YSH1S
		AJMP KEY0
		RET
	YSH1S:MOV R3,#05H
	LOOP:MOV R4,#0A8H
	LOOP1:MOV R5,#8AH
	XHD:DJNZ R5,XHD
		DJNZ R4,LOOP1
		DJNZ R3,LOOP
		RET
END